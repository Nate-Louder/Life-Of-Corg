{"ast":null,"code":"import{Card,CardActions,CardContent,CardMedia,Typography}from'@mui/material';import React,{useState}from'react';import DecisionButton from'./DecisionButton.js';import'./Game.css';import ModalStuff from'./ModalStuff.js';import StatTracker from'./StatTracker.js';import{story}from'./story.js';import StoryTeller from'./StoryTeller.js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Game=_ref=>{let{name,stats,setStats,setProgress}=_ref;const[currentChapter,setCurrentChapter]=useState(1);const[nextChaptered,setNextChaptered]=useState(0);const[currentTitle,setCurrentTitle]=useState(story.chapters[0].title);const[currentImage,setCurrentImage]=useState(story.chapters[0].image);const[currentStory,setCurrentStory]=useState(story.chapters[0].story);const[currentChoices,setCurrentChoices]=useState(story.chapters[0].options);const[choiceMade,setChoiceMade]=useState({stats:[]});const[optionsAreAvailable,setOptionsAreAvailable]=useState(false);// Modal\nconst[open,setOpen]=React.useState(false);const handleOpen=()=>setOpen(true);const handleNext=newStats=>{console.log(nextChaptered);setStats(newStats.strength,newStats.agility,newStats.intelligence,newStats.happiness);setOpen(false);setOptionsAreAvailable(false);const nextChapter=story.chapters[nextChaptered];setCurrentChapter(nextChapter.chapter);setCurrentTitle(nextChapter.title);setCurrentImage(nextChapter.image);setCurrentStory(nextChapter.story);setCurrentChoices(nextChapter.options);};const getBgImage=()=>{switch(currentChapter){case 1:return'background1';default:return'background1';}};return/*#__PURE__*/_jsxs(\"div\",{className:`Game ${getBgImage()}`,children:[/*#__PURE__*/_jsx(Card,{className:\"player-card\",children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"You Are: \",name]})})}),/*#__PURE__*/_jsxs(Card,{className:\"story-card\",sx:{overflow:\"visible\"},children:[/*#__PURE__*/_jsx(StatTracker,{stats:stats}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:\"story-title\",children:currentTitle})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"450\",image:currentImage,className:\"story-image\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(StoryTeller,{story:currentStory,name:name,onStoryEnd:()=>{setOptionsAreAvailable(true);}})}),optionsAreAvailable&&/*#__PURE__*/_jsx(CardActions,{className:\"choices-container\",children:currentChoices.map((choice,index)=>/*#__PURE__*/_jsx(DecisionButton,{option:choice,stats:stats,onClick:()=>{setChoiceMade(choice);setNextChaptered(choice.nextChapter);handleOpen();},className:\"decision-button\",children:choice.text},index))})]}),/*#__PURE__*/_jsx(ModalStuff,{open:open,choice:choiceMade,onClose:handleNext})]});};export default Game;","map":{"version":3,"names":["Card","CardActions","CardContent","CardMedia","Typography","React","useState","DecisionButton","ModalStuff","StatTracker","story","StoryTeller","jsxs","_jsxs","jsx","_jsx","Game","_ref","name","stats","setStats","setProgress","currentChapter","setCurrentChapter","nextChaptered","setNextChaptered","currentTitle","setCurrentTitle","chapters","title","currentImage","setCurrentImage","image","currentStory","setCurrentStory","currentChoices","setCurrentChoices","options","choiceMade","setChoiceMade","optionsAreAvailable","setOptionsAreAvailable","open","setOpen","handleOpen","handleNext","newStats","console","log","strength","agility","intelligence","happiness","nextChapter","chapter","getBgImage","className","children","variant","sx","overflow","component","height","onStoryEnd","map","choice","index","option","onClick","text","onClose"],"sources":["E:/life_of_corg/src/Game.js"],"sourcesContent":["import { Card, CardActions, CardContent, CardMedia, Typography } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport DecisionButton from './DecisionButton.js';\r\nimport './Game.css';\r\nimport ModalStuff from './ModalStuff.js';\r\nimport StatTracker from './StatTracker.js';\r\nimport { story } from './story.js';\r\nimport StoryTeller from './StoryTeller.js';\r\n\r\nconst Game = ({name, stats, setStats, setProgress}) => {\r\n\r\n    const [currentChapter, setCurrentChapter] = useState(1);\r\n    const [nextChaptered, setNextChaptered] = useState(0);\r\n    const [currentTitle, setCurrentTitle] = useState(story.chapters[0].title);\r\n    const [currentImage, setCurrentImage] = useState(story.chapters[0].image);\r\n    const [currentStory, setCurrentStory] = useState(story.chapters[0].story);\r\n    const [currentChoices, setCurrentChoices] = useState(story.chapters[0].options);\r\n    const [choiceMade, setChoiceMade] = useState({stats: []});\r\n    const [optionsAreAvailable, setOptionsAreAvailable] = useState(false);\r\n\r\n    // Modal\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n\r\n    const handleNext = (newStats) => {\r\n        console.log(nextChaptered);\r\n        setStats(newStats.strength, newStats.agility, newStats.intelligence, newStats.happiness);\r\n        setOpen(false);\r\n        setOptionsAreAvailable(false);\r\n        const nextChapter = story.chapters[nextChaptered];\r\n        setCurrentChapter(nextChapter.chapter);\r\n        setCurrentTitle(nextChapter.title);\r\n        setCurrentImage(nextChapter.image);\r\n        setCurrentStory(nextChapter.story);\r\n        setCurrentChoices(nextChapter.options);\r\n    }\r\n\r\n    const getBgImage = () => {\r\n        switch (currentChapter) {\r\n            case 1:\r\n                return 'background1';\r\n            default: \r\n                return 'background1';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`Game ${getBgImage()}`}>\r\n            \r\n            <Card className=\"player-card\">\r\n                <CardContent>\r\n                    <Typography variant=\"h6\">\r\n                        You Are: {name}\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n            <Card className=\"story-card\" sx={{overflow: \"visible\"}}>\r\n                <StatTracker stats={stats}/>\r\n                <CardContent>\r\n                    <Typography variant=\"h4\" className=\"story-title\">\r\n                        {currentTitle}\r\n                    </Typography>\r\n                </CardContent>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    height=\"450\"\r\n                    image={currentImage}\r\n                    className=\"story-image\"\r\n                />\r\n                <CardContent>\r\n                    <StoryTeller story={currentStory} name={name} onStoryEnd={() => {setOptionsAreAvailable(true)}}/>\r\n                </CardContent>\r\n                {optionsAreAvailable && (\r\n                    <CardActions className=\"choices-container\">\r\n                        {currentChoices.map((choice, index) => (\r\n                            <DecisionButton \r\n                                key={index}\r\n                                option={choice} \r\n                                stats={stats} \r\n                                onClick={() => {\r\n                                    setChoiceMade(choice);\r\n                                    setNextChaptered(choice.nextChapter);\r\n                                    handleOpen();\r\n                                }}\r\n                                className=\"decision-button\"\r\n                            >\r\n                                {choice.text}\r\n                            </DecisionButton>\r\n                        ))}\r\n                    </CardActions>\r\n                )}\r\n            </Card>\r\n            <ModalStuff open={open} choice={choiceMade} onClose={handleNext}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Game;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}