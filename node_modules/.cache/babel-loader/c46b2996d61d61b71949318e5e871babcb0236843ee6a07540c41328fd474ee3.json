{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Route,BrowserRouter as Router,Routes}from'react-router-dom';import'./App.css';import Game from'./Game';import Home from'./Home';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const startingStats={strength:0,agility:5,intelligence:0,happiness:0};const[name,setName]=useState(\"\");const[stats,setStats]=useState(startingStats);const[progress,setProgress]=useState(\"start\");const[currentSongIndex,setCurrentSongIndex]=useState(0);const audioRef=useRef(null);const songs=[`${process.env.PUBLIC_URL}/angel-of-morn.mp3`,`${process.env.PUBLIC_URL}/like-prayer.mp3`];useEffect(()=>{if(audioRef.current){audioRef.current.volume=0.5;// Set volume to 50%\naudioRef.current.addEventListener('ended',handleSongEnd);}return()=>{if(audioRef.current){audioRef.current.removeEventListener('ended',handleSongEnd);}};},[]);const handleSongEnd=()=>{if(currentSongIndex<songs.length-1){setCurrentSongIndex(currentSongIndex+1);}else{setCurrentSongIndex(0);// Loop back to the first song or handle end of playlist\n}};useEffect(()=>{if(audioRef.current){audioRef.current.src=songs[currentSongIndex];}},[currentSongIndex]);const handleNext=name=>{setStats(startingStats);setName(name);if(audioRef.current){audioRef.current.src=songs[currentSongIndex];// Set the source when starting the game\naudioRef.current.play();// Ensure the audio starts playing when starting the game\n}};const handleStatChange=(strength,agility,intelligence,happiness)=>{setStats({strength:stats.strength+strength,agility:stats.agility+agility,intelligence:stats.intelligence+intelligence,happiness:stats.happiness+happiness});};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,loop:false}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/Life-Of-Corg\",element:/*#__PURE__*/_jsx(Home,{onNext:name=>handleNext(name)})}),/*#__PURE__*/_jsx(Route,{path:\"/Life-Of-Corg/game\",element:/*#__PURE__*/_jsx(Game,{name:name,stats:stats,progress:progress,setStats:handleStatChange,setProgress:setProgress})})]})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","useState","Route","BrowserRouter","Router","Routes","Game","Home","jsx","_jsx","jsxs","_jsxs","App","startingStats","strength","agility","intelligence","happiness","name","setName","stats","setStats","progress","setProgress","currentSongIndex","setCurrentSongIndex","audioRef","songs","process","env","PUBLIC_URL","current","volume","addEventListener","handleSongEnd","removeEventListener","length","src","handleNext","play","handleStatChange","children","className","ref","loop","path","element","onNext"],"sources":["E:/life_of_corg/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { Route, BrowserRouter as Router, Routes } from 'react-router-dom';\r\nimport './App.css';\r\nimport Game from './Game';\r\nimport Home from './Home';\r\n\r\nfunction App() {\r\n  const startingStats = {\r\n    strength: 0,\r\n    agility: 5,\r\n    intelligence: 0,\r\n    happiness: 0,\r\n  };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [stats, setStats] = useState(startingStats);\r\n  const [progress, setProgress] = useState(\"start\");\r\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\r\n\r\n  const audioRef = useRef(null);\r\n\r\n  const songs = [\r\n    `${process.env.PUBLIC_URL}/angel-of-morn.mp3`,\r\n    `${process.env.PUBLIC_URL}/like-prayer.mp3`\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.volume = 0.5; // Set volume to 50%\r\n      audioRef.current.addEventListener('ended', handleSongEnd);\r\n    }\r\n\r\n    return () => {\r\n      if (audioRef.current) {\r\n        audioRef.current.removeEventListener('ended', handleSongEnd);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleSongEnd = () => {\r\n    if (currentSongIndex < songs.length - 1) {\r\n      setCurrentSongIndex(currentSongIndex + 1);\r\n    } else {\r\n      setCurrentSongIndex(0); // Loop back to the first song or handle end of playlist\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.src = songs[currentSongIndex];\r\n    }\r\n  }, [currentSongIndex]);\r\n\r\n  const handleNext = (name) => {\r\n    setStats(startingStats);\r\n    setName(name);\r\n    if (audioRef.current) {\r\n      audioRef.current.src = songs[currentSongIndex]; // Set the source when starting the game\r\n      audioRef.current.play(); // Ensure the audio starts playing when starting the game\r\n    }\r\n  };\r\n\r\n  const handleStatChange = (strength, agility, intelligence, happiness) => {\r\n    setStats({\r\n      strength: stats.strength + strength,\r\n      agility: stats.agility + agility,\r\n      intelligence: stats.intelligence + intelligence,\r\n      happiness: stats.happiness + happiness,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <audio ref={audioRef} loop={false} />\r\n        <Routes>\r\n          <Route path=\"/Life-Of-Corg\" element={<Home onNext={(name) => handleNext(name)} />} />\r\n          <Route path=\"/Life-Of-Corg/game\" element={<Game name={name} stats={stats} progress={progress} setStats={handleStatChange} setProgress={setProgress} />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}