{"ast":null,"code":"import{Card,CardActions,CardContent,CardMedia,Typography}from'@mui/material';import React,{useState}from'react';import DecisionButton from'./DecisionButton.js';import'./Game.css';import ModalStuff from'./ModalStuff.js';import StatTracker from'./StatTracker.js';import{story}from'./story.js';import StoryTeller from'./StoryTeller.js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Game=_ref=>{let{name,stats,setStats,setProgress}=_ref;const[currentChapter,setCurrentChapter]=useState(1);const[nextChaptered,setNextChaptered]=useState(0);const[currentTitle,setCurrentTitle]=useState(story.chapters[0].title||'');const[currentImage,setCurrentImage]=useState(story.chapters[0].image||'');const[currentStory,setCurrentStory]=useState(story.chapters[0].story||[]);const[currentChoices,setCurrentChoices]=useState(story.chapters[0].options||[]);const[choiceMade,setChoiceMade]=useState({stats:[]});const[optionsAreAvailable,setOptionsAreAvailable]=useState(false);const[open,setOpen]=useState(false);const handleOpen=()=>setOpen(true);const handleNext=newStats=>{let nextChapter;if(nextChaptered===-1){setStats(-stats.strength,-stats.agility,-stats.intelligence,-stats.happiness);nextChapter=story.chapters[0];}else{setStats(newStats.strength,newStats.agility,newStats.intelligence,newStats.happiness);nextChapter=story.chapters[nextChaptered];}setOpen(false);setOptionsAreAvailable(false);setCurrentChapter(nextChapter.chapter);setCurrentTitle(nextChapter.title||'');setCurrentImage(nextChapter.image||'');setCurrentStory(nextChapter.story||[]);setCurrentChoices(nextChapter.options||[]);};const getBgImage=()=>{switch(currentChapter){case 1:return'background1';default:return'background1';}};return/*#__PURE__*/_jsxs(\"div\",{className:`Game ${getBgImage()}`,children:[/*#__PURE__*/_jsx(Card,{className:\"player-card\",children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"You Are: \",name]})})}),/*#__PURE__*/_jsxs(Card,{className:\"story-card\",sx:{overflow:\"visible\"},children:[/*#__PURE__*/_jsx(StatTracker,{stats:stats}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:\"story-title\",children:currentTitle})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"450\",image:currentImage,className:\"story-image\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(StoryTeller,{story:currentStory,name:name,onStoryEnd:()=>{setOptionsAreAvailable(true);}})}),optionsAreAvailable&&/*#__PURE__*/_jsx(CardActions,{className:\"choices-container\",children:currentChoices.map((choice,index)=>/*#__PURE__*/_jsx(DecisionButton,{option:choice,stats:stats,onClick:()=>{setChoiceMade(choice);setNextChaptered(choice.nextChapter);handleOpen();},className:\"decision-button\",children:choice.text},index))})]}),/*#__PURE__*/_jsx(ModalStuff,{open:open,choice:choiceMade,onClose:handleNext})]});};export default Game;","map":{"version":3,"names":["Card","CardActions","CardContent","CardMedia","Typography","React","useState","DecisionButton","ModalStuff","StatTracker","story","StoryTeller","jsxs","_jsxs","jsx","_jsx","Game","_ref","name","stats","setStats","setProgress","currentChapter","setCurrentChapter","nextChaptered","setNextChaptered","currentTitle","setCurrentTitle","chapters","title","currentImage","setCurrentImage","image","currentStory","setCurrentStory","currentChoices","setCurrentChoices","options","choiceMade","setChoiceMade","optionsAreAvailable","setOptionsAreAvailable","open","setOpen","handleOpen","handleNext","newStats","nextChapter","strength","agility","intelligence","happiness","chapter","getBgImage","className","children","variant","sx","overflow","component","height","onStoryEnd","map","choice","index","option","onClick","text","onClose"],"sources":["E:/life_of_corg/src/Game.js"],"sourcesContent":["import { Card, CardActions, CardContent, CardMedia, Typography } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport DecisionButton from './DecisionButton.js';\r\nimport './Game.css';\r\nimport ModalStuff from './ModalStuff.js';\r\nimport StatTracker from './StatTracker.js';\r\nimport { story } from './story.js';\r\nimport StoryTeller from './StoryTeller.js';\r\n\r\nconst Game = ({name, stats, setStats, setProgress}) => {\r\n\r\n    const [currentChapter, setCurrentChapter] = useState(1);\r\n    const [nextChaptered, setNextChaptered] = useState(0);\r\n    const [currentTitle, setCurrentTitle] = useState(story.chapters[0].title || '');\r\n    const [currentImage, setCurrentImage] = useState(story.chapters[0].image || '');\r\n    const [currentStory, setCurrentStory] = useState(story.chapters[0].story || []);\r\n    const [currentChoices, setCurrentChoices] = useState(story.chapters[0].options || []);\r\n    const [choiceMade, setChoiceMade] = useState({stats: []});\r\n    const [optionsAreAvailable, setOptionsAreAvailable] = useState(false);\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n\r\n    const handleNext = (newStats) => {\r\n        let nextChapter;\r\n        if (nextChaptered === -1) {\r\n            setStats(-stats.strength, -stats.agility, -stats.intelligence, -stats.happiness);\r\n            nextChapter = story.chapters[0];\r\n        }\r\n        else {\r\n            setStats(newStats.strength, newStats.agility, newStats.intelligence, newStats.happiness);\r\n            nextChapter = story.chapters[nextChaptered];\r\n        }\r\n        setOpen(false);\r\n        setOptionsAreAvailable(false);\r\n        setCurrentChapter(nextChapter.chapter);\r\n        setCurrentTitle(nextChapter.title || '');\r\n        setCurrentImage(nextChapter.image || '');\r\n        setCurrentStory(nextChapter.story || []);\r\n        setCurrentChoices(nextChapter.options || []);\r\n    };\r\n\r\n    const getBgImage = () => {\r\n        switch (currentChapter) {\r\n            case 1:\r\n                return 'background1';\r\n            default: \r\n                return 'background1';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`Game ${getBgImage()}`}>\r\n            <Card className=\"player-card\">\r\n                <CardContent>\r\n                    <Typography variant=\"h6\">\r\n                        You Are: {name}\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n            <Card className=\"story-card\" sx={{overflow: \"visible\"}}>\r\n                <StatTracker stats={stats}/>\r\n                <CardContent>\r\n                    <Typography variant=\"h4\" className=\"story-title\">\r\n                        {currentTitle}\r\n                    </Typography>\r\n                </CardContent>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    height=\"450\"\r\n                    image={currentImage}\r\n                    className=\"story-image\"\r\n                />\r\n                <CardContent>\r\n                    <StoryTeller story={currentStory} name={name} onStoryEnd={() => {setOptionsAreAvailable(true)}}/>\r\n                </CardContent>\r\n                {optionsAreAvailable && (\r\n                    <CardActions className=\"choices-container\">\r\n                        {currentChoices.map((choice, index) => (\r\n                            <DecisionButton \r\n                                key={index}\r\n                                option={choice} \r\n                                stats={stats} \r\n                                onClick={() => {\r\n                                    setChoiceMade(choice);\r\n                                    setNextChaptered(choice.nextChapter);\r\n                                    handleOpen();\r\n                                }}\r\n                                className=\"decision-button\"\r\n                            >\r\n                                {choice.text}\r\n                            </DecisionButton>\r\n                        ))}\r\n                    </CardActions>\r\n                )}\r\n            </Card>\r\n            <ModalStuff open={open} choice={choiceMade} onClose={handleNext}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Game;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}